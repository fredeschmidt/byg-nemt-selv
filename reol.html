<!doctype html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Væg til væg reol | Byg Nemt Selv</title>
    <link rel="stylesheet" href="styles/global.css" />
  </head>
  <body>
    <header id="header">
      <a href="index.html" aria-label="Tilbage til forsiden">
        <img class="header-logo" src="images/logo.png" alt="Byg Nemt Selv logo" />
      </a>
      <div class="header-inner">
        <h1 class="header-title">Væg til væg reol</h1>
      </div>
    </header>

    <main>
      <section class="solution-picker">
        <form id="solution-form" action="guide-reol.html" method="get" novalidate>
          <fieldset class="solution-picker__fieldset">
            <legend id="solution-picker-title" class="solution-picker__legend"><span class="header-subtitle__number">01</span> Vælg reol</legend>
            <ul class="solution-picker__list">
              <li class="solution-picker__item">
                <input class="solution-picker__radio" type="radio" name="solution_choice" id="solution-choice-1" value="a" checked />
                <label class="solution-picker__card" for="solution-choice-1">
                  <figure class="solution-picker__image-wrap">
                    <img class="solution-picker__image" src="images/reol-doodle.png" alt="Skitse af klassisk væg-til-væg reol" />
                  </figure>
                  <p class="solution-picker__title">Klassisk modulreol</p>
                </label>
                <p class="solution-picker__meta">Mest opbevaring for pengene. God til kasser, bøger og hverdagsting.</p>
              </li>

              <li class="solution-picker__item">
                <input class="solution-picker__radio" type="radio" name="solution_choice" id="solution-choice-2" value="b" />
                <label class="solution-picker__card" for="solution-choice-2">
                  <figure class="solution-picker__image-wrap">
                    <img class="solution-picker__image" src="images/reol-door-doodle.png" alt="Skitse af reol med skabsmoduler nederst" />
                  </figure>
                  <p class="solution-picker__title">Reol + lukkede moduler</p>
                </label>
                <p class="solution-picker__meta">Roligt look. Lukkede felter nederst skjuler rod og gør oprydning hurtig.</p>
              </li>

              <li class="solution-picker__item">
                <input class="solution-picker__radio" type="radio" name="solution_choice" id="solution-choice-3" value="c" />
                <label class="solution-picker__card" for="solution-choice-3">
                  <figure class="solution-picker__image-wrap">
                    <img class="solution-picker__image" src="images/reol-asymetrisk-doodle.png" alt="Skitse af asymmetrisk designreol" />
                  </figure>
                  <p class="solution-picker__title">Asymmetrisk designreol</p>
                </label>
                <p class="solution-picker__meta">Mere karakter og visuel rytme. God hvis reolen også skal være et statement.</p>
              </li>
            </ul>
          </fieldset>

          <fieldset class="solution-picker__fieldset solution-picker__fieldset--measure">
            <legend id="solution-picker-measure-title" class="solution-picker__legend">
              <span class="header-subtitle__number">02</span> Indtast mål og ønsker
            </legend>

            <section class="solution-picker__subsection">
              <h3 id="placement-title" class="solution-picker__question">Hvor skal reolen stå?</h3>
              <ul class="solution-picker__choice-list">
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="placement_choice" value="between-walls" />
                    <span>Mellem to vægge (væg-til-væg)</span>
                  </label>
                </li>
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="placement_choice" value="one-wall" />
                    <span>Mod én væg (fritstående langs væg)</span>
                  </label>
                </li>
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="placement_choice" value="alcove" />
                    <span>I en niche/alkove</span>
                  </label>
                </li>
              </ul>
            </section>

            <section class="solution-picker__subsection">
              <ul class="solution-picker__measure-list">
                <li class="solution-picker__measure-item">
                  <label class="solution-picker__field-label" for="customer-name">Navn</label>
                  <input class="solution-picker__input" id="customer-name" name="customer_name" type="text" placeholder="Indtast dit navn" />
                </li>

                <li class="solution-picker__measure-item">
                  <label class="solution-picker__field-label" for="wall-width">Bredde</label>
                  <input
                    class="solution-picker__input"
                    id="wall-width"
                    name="wall_width_cm"
                    type="number"
                    inputmode="numeric"
                    min="1"
                    placeholder="Indtast bredde i cm"
                    aria-describedby="tip-wall-width"
                  />
                  <p id="tip-wall-width" class="solution-picker__tip">Tip: hvis den står mellem to vægge, trækker vi automatisk 0,5-1 cm fra, så den passer.</p>
                </li>

                <li class="solution-picker__measure-item">
                  <label class="solution-picker__field-label" for="wall-height">Højde</label>
                  <input
                    class="solution-picker__input"
                    id="wall-height"
                    name="wall_height_cm"
                    type="number"
                    inputmode="numeric"
                    min="1"
                    placeholder="Indtast højde i cm"
                    aria-describedby="tip-wall-height"
                  />
                  <p id="tip-wall-height" class="solution-picker__tip">Tip: fuld højde eller fx 200 cm?</p>
                </li>

                <li class="solution-picker__measure-item">
                  <label class="solution-picker__field-label" for="shelf-depth">Dybde</label>
                  <input
                    class="solution-picker__input"
                    id="shelf-depth"
                    name="shelf_depth_cm"
                    type="number"
                    inputmode="numeric"
                    min="1"
                    placeholder="Indtast dybde i cm"
                    aria-describedby="tip-shelf-depth"
                  />
                  <p id="tip-shelf-depth" class="solution-picker__tip">Tip: 25-30 cm til bøger, 35-40 cm til kasser.</p>
                </li>

                <li class="solution-picker__measure-item">
                  <label class="solution-picker__field-label" for="baseboard-depth">Sokkel-/fodliste dybde (valgfri)</label>
                  <input class="solution-picker__input" id="baseboard-depth" name="baseboard_depth_cm" type="number" inputmode="numeric" min="0" placeholder="Indtast dybde i cm" />
                </li>
              </ul>
            </section>

            <section class="solution-picker__subsection">
              <h4 class="solution-picker__group-title">Loft og brug</h4>

              <div class="solution-picker__option-group">
                <h5 class="solution-picker__group-title">Lofttype (valgfri)</h5>
                <ul class="solution-picker__choice-list">
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="ceiling_type" value="flat" />
                      <span>Fladt</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="ceiling_type" value="sloped" />
                      <span>Skråt</span>
                    </label>
                  </li>
                </ul>
              </div>

              <div class="solution-picker__option-group">
                <h5 class="solution-picker__group-title">Skal reolen gå helt til loft?</h5>
                <ul class="solution-picker__choice-list">
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="to_ceiling" value="yes" />
                      <span>Ja</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="to_ceiling" value="no" />
                      <span>Nej</span>
                    </label>
                  </li>
                </ul>
              </div>

              <div class="solution-picker__option-group">
                <h5 class="solution-picker__group-title">Brug</h5>
                <ul class="solution-picker__choice-list">
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="usage_type" value="books" />
                      <span>Bøger</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="usage_type" value="boxes" />
                      <span>Kasser</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="usage_type" value="mix" />
                      <span>Mix</span>
                    </label>
                  </li>
                </ul>
              </div>
            </section>

            <section class="solution-picker__subsection">
              <h4 id="wall-type-title" class="solution-picker__group-title">Hvilken væg skal den fastgøres til?</h4>
              <ul class="solution-picker__choice-list">
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="wall_type" value="gypsum" />
                    <span>Gips</span>
                  </label>
                </li>
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="wall_type" value="brick" />
                    <span>Mursten</span>
                  </label>
                </li>
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="wall_type" value="concrete" />
                    <span>Beton</span>
                  </label>
                </li>
                <li>
                  <label class="solution-picker__choice">
                    <input type="radio" name="wall_type" value="unknown" />
                    <span>Ved ikke</span>
                  </label>
                </li>
              </ul>
            </section>

            <section class="solution-picker__subsection">
              <div class="solution-picker__option-group">
                <h4 id="finish-budget-title" class="solution-picker__group-title">Look og budget</h4>
                <ul class="solution-picker__choice-list">
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_budget" value="budget" />
                      <span>Budget (byggemarked, nemt)</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_budget" value="standard" />
                      <span>Standard (pænt + solidt)</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_budget" value="premium" />
                      <span>Premium (lækker finish)</span>
                    </label>
                  </li>
                </ul>
              </div>

              <div class="solution-picker__option-group">
                <h4 id="finish-surface-title" class="solution-picker__group-title">Overflade</h4>
                <ul class="solution-picker__choice-list">
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_surface" value="natural-wood" />
                      <span>Natur træ</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_surface" value="painted" />
                      <span>Malet</span>
                    </label>
                  </li>
                  <li>
                    <label class="solution-picker__choice">
                      <input type="radio" name="finish_surface" value="decide-later" />
                      <span>Jeg beslutter senere</span>
                    </label>
                  </li>
                </ul>
              </div>
            </section>
          </fieldset>

          <section class="solution-picker__fieldset solution-picker__fieldset--summary" aria-live="polite" aria-atomic="true">
            <h2 class="solution-picker__legend">Opsummering af dine valg</h2>
            <dl class="solution-picker__summary-list">
              <div class="solution-picker__summary-item">
                <dt>Reoltype</dt>
                <dd id="summary-solution">Klassisk modulreol</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Navn</dt>
                <dd id="summary-name">Ikke udfyldt</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Placering</dt>
                <dd id="summary-placement">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Bredde</dt>
                <dd id="summary-width">Ikke udfyldt</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Højde</dt>
                <dd id="summary-height">Ikke udfyldt</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Dybde</dt>
                <dd id="summary-depth">Ikke udfyldt</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Sokkel/fodliste</dt>
                <dd id="summary-baseboard">Ikke udfyldt</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Vægtype</dt>
                <dd id="summary-wall-type">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Lofttype</dt>
                <dd id="summary-ceiling-type">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Helt til loft</dt>
                <dd id="summary-to-ceiling">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Brug</dt>
                <dd id="summary-usage">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Look og budget</dt>
                <dd id="summary-finish-budget">Ikke valgt endnu</dd>
              </div>
              <div class="solution-picker__summary-item">
                <dt>Overflade</dt>
                <dd id="summary-finish-surface">Ikke valgt endnu</dd>
              </div>
            </dl>

            <div class="solution-picker__actions">
              <button id="solution-next-button" class="solution-picker__next" type="submit" disabled>Næste</button>
            </div>
          </section>
        </form>
      </section>
    </main>
    <script>
      (() => {
        const form = document.getElementById("solution-form");
        if (!form) return;

        const fallback = {
          emptyChoice: "Ikke valgt endnu",
          emptyInput: "Ikke udfyldt",
        };

        const summaryFields = {
          solution: document.getElementById("summary-solution"),
          placement: document.getElementById("summary-placement"),
          name: document.getElementById("summary-name"),
          width: document.getElementById("summary-width"),
          height: document.getElementById("summary-height"),
          depth: document.getElementById("summary-depth"),
          baseboard: document.getElementById("summary-baseboard"),
          wallType: document.getElementById("summary-wall-type"),
          ceilingType: document.getElementById("summary-ceiling-type"),
          toCeiling: document.getElementById("summary-to-ceiling"),
          usage: document.getElementById("summary-usage"),
          finishBudget: document.getElementById("summary-finish-budget"),
          finishSurface: document.getElementById("summary-finish-surface"),
        };
        const nextButton = document.getElementById("solution-next-button");

        const radioText = (name, fallbackText) => {
          const checked = form.querySelector(`input[name="${name}"]:checked`);
          if (!checked) return fallbackText;

          const choiceLabel = checked.closest("label");
          if (choiceLabel) {
            const textNode = choiceLabel.querySelector("span");
            if (textNode && textNode.textContent) return textNode.textContent.trim();
          }

          const solutionCard = form.querySelector(`label[for="${checked.id}"]`);
          if (solutionCard) {
            const title = solutionCard.querySelector(".solution-picker__title");
            if (title && title.textContent) return title.textContent.trim();
          }

          return fallbackText;
        };

        const inputValue = (id) => {
          const field = document.getElementById(id);
          if (!field || !field.value.trim()) return fallback.emptyInput;
          return `${field.value.trim()} cm`;
        };

        const textValue = (id) => {
          const field = document.getElementById(id);
          if (!field || !field.value.trim()) return fallback.emptyInput;
          return field.value.trim();
        };

        const renderSummary = () => {
          summaryFields.solution.textContent = radioText("solution_choice", fallback.emptyChoice);
          summaryFields.name.textContent = textValue("customer-name");
          summaryFields.placement.textContent = radioText("placement_choice", fallback.emptyChoice);
          summaryFields.width.textContent = inputValue("wall-width");
          summaryFields.height.textContent = inputValue("wall-height");
          summaryFields.depth.textContent = inputValue("shelf-depth");
          summaryFields.baseboard.textContent = inputValue("baseboard-depth");
          summaryFields.wallType.textContent = radioText("wall_type", fallback.emptyChoice);
          summaryFields.ceilingType.textContent = radioText("ceiling_type", fallback.emptyChoice);
          summaryFields.toCeiling.textContent = radioText("to_ceiling", fallback.emptyChoice);
          summaryFields.usage.textContent = radioText("usage_type", fallback.emptyChoice);
          summaryFields.finishBudget.textContent = radioText("finish_budget", fallback.emptyChoice);
          summaryFields.finishSurface.textContent = radioText("finish_surface", fallback.emptyChoice);
        };

        const hasChecked = (name) => Boolean(form.querySelector(`input[name="${name}"]:checked`));

        const hasPositiveInput = (id) => {
          const field = document.getElementById(id);
          if (!field) return false;
          const value = Number(field.value);
          return Number.isFinite(value) && value > 0;
        };

        const hasTextInput = (id) => {
          const field = document.getElementById(id);
          return Boolean(field && field.value.trim());
        };

        const isComplete = () => {
          return (
            hasChecked("solution_choice") &&
            hasTextInput("customer-name") &&
            hasChecked("placement_choice") &&
            hasPositiveInput("wall-width") &&
            hasPositiveInput("wall-height") &&
            hasPositiveInput("shelf-depth") &&
            hasChecked("wall_type") &&
            hasChecked("to_ceiling") &&
            hasChecked("usage_type") &&
            hasChecked("finish_budget") &&
            hasChecked("finish_surface")
          );
        };

        const updateNextButton = () => {
          if (!nextButton) return;
          nextButton.disabled = !isComplete();
        };

        form.addEventListener("input", renderSummary);
        form.addEventListener("change", renderSummary);
        form.addEventListener("input", updateNextButton);
        form.addEventListener("change", updateNextButton);
        form.addEventListener("submit", (event) => {
          if (!isComplete()) {
            event.preventDefault();
          }
        });

        renderSummary();
        updateNextButton();
      })();
    </script>
  </body>
</html>
